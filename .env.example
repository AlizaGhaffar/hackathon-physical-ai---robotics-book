# ==============================================================================
# RAG CHATBOT BACKEND - ENVIRONMENT VARIABLES TEMPLATE
# ==============================================================================
# INSTRUCTIONS:
# 1. Copy this file to .env: cp .env.example .env
# 2. Replace all placeholder values with your actual credentials
# 3. NEVER commit the .env file to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# QDRANT VECTOR DATABASE
# ------------------------------------------------------------------------------
# Get credentials from: https://cloud.qdrant.io/
QDRANT_API_KEY=your_qdrant_api_key_here
QDRANT_CLUSTER_ID=your_cluster_id_here
QDRANT_URL=https://your-cluster-id.region.gcp.cloud.qdrant.io
QDRANT_COLLECTION_NAME=book_embeddings

# ------------------------------------------------------------------------------
# NEON SERVERLESS POSTGRESQL
# ------------------------------------------------------------------------------
# Get connection string from: https://console.neon.tech/
# Full connection string (preferred)
DATABASE_URL=postgresql://user:password@host.region.aws.neon.tech/dbname?sslmode=require&channel_binding=require

# Individual components (for reference/alternative usage)
DB_HOST=your-host.region.aws.neon.tech
DB_NAME=neondb
DB_USER=your_user
DB_PASSWORD=your_password
DB_PORT=5432
DB_SSL_MODE=require

# ------------------------------------------------------------------------------
# OPENAI API
# ------------------------------------------------------------------------------
# Get API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your_openai_api_key_here
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-small

# ------------------------------------------------------------------------------
# APPLICATION SETTINGS
# ------------------------------------------------------------------------------
# Environment (development, staging, production)
ENVIRONMENT=development

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
API_RELOAD=true

# CORS Settings (comma-separated origins)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Security
RATE_LIMIT_PER_MINUTE=100
ADMIN_API_KEY=change-this-in-production

# Logging
LOG_LEVEL=INFO

# ------------------------------------------------------------------------------
# RAG PIPELINE SETTINGS
# ------------------------------------------------------------------------------
# Chunking
CHUNK_SIZE=1000
CHUNK_OVERLAP=200

# Retrieval
TOP_K_RESULTS=5
SIMILARITY_THRESHOLD=0.7

# Response Generation
MAX_RESPONSE_TOKENS=500
TEMPERATURE=0.7

# ------------------------------------------------------------------------------
# FEATURE FLAGS
# ------------------------------------------------------------------------------
ENABLE_STREAMING=true
ENABLE_CHAT_HISTORY=true
ENABLE_FEEDBACK=true
ENABLE_SELECTED_TEXT_QUERY=true
ENABLE_CHAPTER_SCOPING=true

# ------------------------------------------------------------------------------
# EXISTING FRONTEND/AUTH SETTINGS (Keep these for compatibility)
# ------------------------------------------------------------------------------
# Better Auth Secret (for JWT token signing - min 32 characters)
BETTER_AUTH_SECRET=your_secret_key_min_32_characters_here

# Backend API URL (for frontend to connect)
NEXT_PUBLIC_API_URL=http://localhost:8000

# Environment
NODE_ENV=development

# GitHub Personal Access Token (for MCP GitHub server - optional)
# Generate at: https://github.com/settings/tokens/new
# Required scopes: repo, read:org, read:user
GITHUB_PERSONAL_ACCESS_TOKEN=your_github_token_here
